<?xml version="1.0" encoding="utf-8" ?>

<component name="CategoriesScreen" extends="Group" initialFocus="CategoryList">
    <interface>

        <!-- Grid Content Nodes For Each Row -->
        <field id="content" type="node" alias="CategoryList.content" onChange="onContentChange"/>

        <!-- buttonlist content node -->
        <field id="buttonsContent" type="node" alias="SubCategoryLabelList.content" />
		<field id = "subCategoryLinkArray" type = "stringarray" />

        <!-- Row item selection handlers -->
        <field id="CategoryListItemSelected" type="intarray" alwaysnotify="true" alias="CategoryList.rowItemSelected"/>

		<!-- Postergrid content -->
		<field id = "posterContent" type="node" alias="PosterGridScreen.content"/>
		
		<!--  -->
		<field id = "videoSelected" type="int" alwaysnotify="true" alias="PosterGridScreen.itemSelected" />
		
        <!-- Row item focused handler 2 -->
        <field id="itemFocused" type="intarray" alias="CategoryList.rowItemFocused" />
        
        <!-- labellist item focused -->
        <field id="labelFocused" type="int" alias="SubCategoryLabelList.itemFocused" />

        <!-- labellist item focused -->
        <field id="videoFocused" type="int" alias="PosterGridScreen.itemFocused" />
        
        <!-- Row item focused handler -->
        <field id="lastItemFocus" type="intarray"/>

        <!-- Interface to focused item (Content Node) -->
        <field id="focusedContent"  type="node"/>        

        <!-- secondaryColor settings -->
        <field id="CategoryListLabelColor" type="string" alias="CategoryList.rowLabelColor"/>

		<!--  -->
		<field id="posterGridDataLoaded" type="boolean" />
    </interface>

    <!-- main handler -->
    <script type="text/brightscript" uri="pkg:/components/CategoriesScreen/CategoriesScreen.brs" />


    <children>
        <FadingBackground
            id="Background"
            width="1280"
            height="720"
            color="0x000000"
            ShadeOpacity="0.62"
        />
            
        <PosterGrid
          id = "PosterGridScreen"
          focusBitmapUri="pkg:/images/focus_button.9.png"
          posterDisplayMode="scaleToZooom"
          useAtlas="true"
          loadingBitmapUri=""
          captionVertAlignment="bottom"
          translation = "[750,1500]"
          basePosterSize = "[414,234]"
          caption1NumLines = "1"
          numColumns = "1"
          numRows = "3"
          itemSpacing = "[18,20]" 
          visible = "true"
        />

        <Poster
            id="playIcon"
            width="80"
            height="80"
            translation="[910, 180]"
            uri="pkg:/images/play2.png"
            visible="false"
        />

        <Description
            id="Description"
            translation="[65, 120]"
            itemSpacings="[7,17]"
        />

        <RowList
            id="CategoryList"
            focusBitmapUri="pkg:/images/focus_button.9.png"
            translation="[60, 300]"
            itemSize="[1400, 708]"
            numRows="1"
            itemSpacing="[20, 0]"
            focusXOffset="[0]"
            vertFocusAnimationStyle="fixedFocus"
            rowFocusAnimationStyle="fixedFocusWrap"
            rowItemSize="[[394,276]]"            
            rowItemSpacing="[[22, 2]]"
            rowLabelFont="font:LargeSystemFont"
            showRowLabel="true"
            rowLabelColor="0xFFFFFFFF"
            showRowCounter="true"
            rowLabelOffset="[[0, 30]]"
        />

        <!-- subcategory buttons -->
        <LabelList
            id = "SubCategoryLabelList"
            vertFocusAnimationStyle = "floatingFocus"
            drawFocusFeedback = "false"         
            color = "0xFFFFFFFF"
            focusedColor = "0xc90016FF"
            textHorizAlign = "left"
            translation = "[200,1500]"
            itemSize = "[600, 40]"
            itemSpacing = "[0,44]">

            <ContentNode role = "content">

            </ContentNode>

        </LabelList>



        <Rectangle
            id="leftDivider"
            translation="[180,1500]"
            color="0xFFFFFFFF"
            width="1"
            height="540"
        />
        <Poster
            translation="[0, 650]"
            uri="pkg:/images/BG_dark_down.png"
            width="3000"
            height="95"
        />

        <Video
          id="VideoPlayer"
          width="1280"
          height="720"
          translation="[0,0]"
          enableTrickPlay="true"
          visible="false"
        />


        <!-- ==================================================================================================================== -->
        <!-- ==================================================================================================================== -->
        <Animation 
          id = "AnimateToSubCategories"
          duration = "1.5"
          easeFunction = "inOutCubic" >

          <Vector2DFieldInterpolator 
            id = "CategoryListVector2D"
            key = "[ 0.0, 1.0 ]" 
            keyValue = "[ [60, 300], [60,-500] ]"
            fieldToInterp = "CategoryList.translation"

          />

          <Vector2DFieldInterpolator 
            id = "SubCategoryLabelListVector2D"
            key = "[ 0.0, 1.0 ]" 
            keyValue = "[ [200,1500], [200,100] ]"
            fieldToInterp = "SubCategoryLabelList.translation"
          />
          
          <Vector2DFieldInterpolator 
            id = "leftDividerVector2D"
            key = "[ 0.0, 1.0 ]" 
            keyValue = "[ [180,1500], [180, 106] ]"
            fieldToInterp = "leftDivider.translation"
          />

          <Vector2DFieldInterpolator 
            id = "PosterGridScreenVector2D"
            key = "[ 0.0, 1.0 ]" 
            keyValue = "[ [750,1500], [750, 106] ]"
            fieldToInterp = "PosterGridScreen.translation"
          />
          
        </Animation>

    <!-- ================= animate back to name capture =========================================== -->
        <Animation 
          id = "AnimateBackToCategories"
          duration = "1.5"
          easeFunction = "inOutCubic" >

          <Vector2DFieldInterpolator 
            id = "CategoryListVector2D"
            key = "[ 0.0, 1.0 ]" 
            keyValue = "[ [60,-500], [60, 300] ]"
            fieldToInterp = "CategoryList.translation"

          />

          <Vector2DFieldInterpolator 
            id = "SubCategoryLabelListVector2D"
            key = "[ 0.0, 1.0 ]" 
            keyValue = "[ [200,100], [200,1500] ]"
            fieldToInterp = "SubCategoryLabelList.translation"
          />

          <Vector2DFieldInterpolator 
            id = "leftDividerVector2D"
            key = "[ 0.0, 1.0 ]" 
            keyValue = "[ [180, 106], [180,1500] ]"
            fieldToInterp = "leftDivider.translation"
          />
          
          <Vector2DFieldInterpolator 
            id = "PosterGridScreenVector2D"
            key = "[ 0.0, 1.0 ]" 
            keyValue = "[ [750, 106], [750,1500] ]"
            fieldToInterp = "PosterGridScreen.translation"
          />
          
        </Animation>

<!-- ==================================================================================================================== -->
<!-- ==================================================================================================================== -->

    </children>
</component>
